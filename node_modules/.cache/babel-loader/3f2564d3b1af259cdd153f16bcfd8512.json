{"ast":null,"code":"import 'ol/ol.css';\nimport { getLayer } from '@corpsmap/corpsmap-bundles/utils/layer-utils';\nexport default {\n  name: 'draw',\n  getReducer: () => {\n    const initialData = {\n      shouldInitalize: false\n    };\n    return (state = initialData, {\n      type,\n      payload\n    }) => {\n      switch (type) {\n        case 'DRAW_INITIALIZE_STARTED':\n        case 'DRAW_INITIALIZE_FINISHED':\n          return Object.assign({}, state, payload);\n\n        case \"MAP_INITIALIZED\":\n        case \"CM2_INITIALIZE_FINISHED\":\n          return Object.assign({}, state, {\n            shouldInitalize: true\n          });\n\n        default:\n          return state;\n      }\n    };\n  },\n  doDrawInitializeLayer: () => ({\n    dispatch,\n    store\n  }) => {\n    dispatch({\n      type: 'DRAW_INITIALIZE_STARTED',\n      payload: {\n        shouldInitalize: false\n      }\n    });\n    const map = store.selectMap(); //replace this with a service from the PFRA AEP grid data - then we can have a view of the AEP grids.\n\n    const lyr = getLayer({\n      serviceType: 'ArcGIS',\n      url: \"https://basemap.nationalmap.gov/ArcGIS/rest/services/USGSTopo/MapServer\"\n    });\n    map.addLayer(lyr);\n    dispatch({\n      type: 'DRAW_INITIALIZE_FINISHED'\n    });\n  },\n  reactDrawShouldInitialize: state => {\n    if (state.draw.shouldInitalize) return {\n      actionCreator: 'doDrawInitializeLayer'\n    };\n  },\n  init: store => {}\n};","map":{"version":3,"sources":["C:\\Examples\\aepmapper\\src\\app-bundles\\draw-bundle.js"],"names":["getLayer","name","getReducer","initialData","shouldInitalize","state","type","payload","Object","assign","doDrawInitializeLayer","dispatch","store","map","selectMap","lyr","serviceType","url","addLayer","reactDrawShouldInitialize","draw","actionCreator","init"],"mappings":"AACA,OAAO,WAAP;AACA,SAAQA,QAAR,QAAuB,8CAAvB;AAEA,eAAe;AACXC,EAAAA,IAAI,EAAE,MADK;AAEXC,EAAAA,UAAU,EAAC,MAAK;AACZ,UAAMC,WAAW,GAAG;AAChBC,MAAAA,eAAe,EAAE;AADD,KAApB;AAGA,WAAO,CAACC,KAAK,GAAGF,WAAT,EAAsB;AAACG,MAAAA,IAAD;AAAOC,MAAAA;AAAP,KAAtB,KAA0C;AAC7C,cAAOD,IAAP;AACI,aAAK,yBAAL;AACA,aAAK,0BAAL;AACI,iBAAOE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyBE,OAAzB,CAAP;;AACJ,aAAK,iBAAL;AACA,aAAK,yBAAL;AACI,iBAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC5BD,YAAAA,eAAe,EAAE;AADW,WAAzB,CAAP;;AAGJ;AACI,iBAAOC,KAAP;AAVR;AAYH,KAbD;AAcH,GApBU;AAqBXK,EAAAA,qBAAqB,EAAE,MAAM,CAAC;AAACC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAAD,KAAuB;AAChDD,IAAAA,QAAQ,CAAC;AAACL,MAAAA,IAAI,EAAE,yBAAP;AAAkCC,MAAAA,OAAO,EAAE;AAACH,QAAAA,eAAe,EAAE;AAAlB;AAA3C,KAAD,CAAR;AACA,UAAMS,GAAG,GAAGD,KAAK,CAACE,SAAN,EAAZ,CAFgD,CAGhD;;AACA,UAAMC,GAAG,GAAGf,QAAQ,CAAC;AACjBgB,MAAAA,WAAW,EAAE,QADI;AAEjBC,MAAAA,GAAG,EAAE;AAFY,KAAD,CAApB;AAIAJ,IAAAA,GAAG,CAACK,QAAJ,CAAaH,GAAb;AACAJ,IAAAA,QAAQ,CAAC;AACLL,MAAAA,IAAI,EAAE;AADD,KAAD,CAAR;AAGH,GAjCU;AAkCXa,EAAAA,yBAAyB,EAAGd,KAAD,IAAW;AAClC,QAAGA,KAAK,CAACe,IAAN,CAAWhB,eAAd,EAA+B,OAAO;AAAEiB,MAAAA,aAAa,EAAE;AAAjB,KAAP;AAClC,GApCU;AAqCXC,EAAAA,IAAI,EAAGV,KAAD,IAAU,CAEf;AAvCU,CAAf","sourcesContent":["\r\nimport 'ol/ol.css';\r\nimport {getLayer} from '@corpsmap/corpsmap-bundles/utils/layer-utils'\r\n\r\nexport default {\r\n    name: 'draw',\r\n    getReducer:() =>{\r\n        const initialData = {\r\n            shouldInitalize: false,\r\n        }\r\n        return (state = initialData, {type, payload}) => {\r\n            switch(type){\r\n                case 'DRAW_INITIALIZE_STARTED':\r\n                case 'DRAW_INITIALIZE_FINISHED':\r\n                    return Object.assign({}, state, payload);\r\n                case \"MAP_INITIALIZED\":\r\n                case \"CM2_INITIALIZE_FINISHED\":\r\n                    return Object.assign({}, state, {\r\n                        shouldInitalize: true\r\n                    });\r\n                default:\r\n                    return state;\r\n            }\r\n        }\r\n    },\r\n    doDrawInitializeLayer: () => ({dispatch, store}) => {\r\n        dispatch({type: 'DRAW_INITIALIZE_STARTED', payload: {shouldInitalize: false}})\r\n        const map = store.selectMap();\r\n        //replace this with a service from the PFRA AEP grid data - then we can have a view of the AEP grids.\r\n        const lyr = getLayer({\r\n            serviceType: 'ArcGIS',\r\n            url: \"https://basemap.nationalmap.gov/ArcGIS/rest/services/USGSTopo/MapServer\"\r\n        })\r\n        map.addLayer(lyr)\r\n        dispatch({\r\n            type: 'DRAW_INITIALIZE_FINISHED'\r\n        })\r\n    },\r\n    reactDrawShouldInitialize: (state) => {\r\n        if(state.draw.shouldInitalize) return { actionCreator: 'doDrawInitializeLayer'}\r\n    },\r\n    init: (store) =>{\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}