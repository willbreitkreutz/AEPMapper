{"ast":null,"code":"// this function takes a map scale, the denominator in something like\n// 1 : 250,000 and translates that to the zoom scale from a 0 - 20 range\n// using the scale table found on https://wiki.openstreetmap.org/wiki/Zoom_levels\nconst zoomLevels = [500000000, 250000000, 150000000, 70000000, 35000000, 15000000, 10000000, 4000000, 2000000, 1000000, 500000, 250000, 150000, 70000, 35000, 15000, 8000, 4000, 2000, 1000, 500];\n\nmodule.exports = (scale, ifnull) => {\n  console.log(\"testing\", scale);\n  if (!scale) return ifnull;\n  if (scale >= zoomLevels[0]) return 0;\n  if (scale < zoomLevels[zoomLevels.length - 1]) return zoomLevels.length - 1;\n  let zoom = 0;\n\n  for (var i = 1; i < zoomLevels.length; i++) {\n    if (scale >= zoomLevels[i] && scale < zoomLevels[i - 1]) zoom = i;\n    break;\n  }\n\n  return zoom;\n};","map":{"version":3,"sources":["C:\\Examples\\aepmapper\\src\\plugins\\cm2\\scale-to-zoom-level.js"],"names":["zoomLevels","module","exports","scale","ifnull","console","log","length","zoom","i"],"mappings":"AAAA;AACA;AACA;AAEA,MAAMA,UAAU,GAAG,CACjB,SADiB,EAEjB,SAFiB,EAGjB,SAHiB,EAIjB,QAJiB,EAKjB,QALiB,EAMjB,QANiB,EAOjB,QAPiB,EAQjB,OARiB,EASjB,OATiB,EAUjB,OAViB,EAWjB,MAXiB,EAYjB,MAZiB,EAajB,MAbiB,EAcjB,KAdiB,EAejB,KAfiB,EAgBjB,KAhBiB,EAiBjB,IAjBiB,EAkBjB,IAlBiB,EAmBjB,IAnBiB,EAoBjB,IApBiB,EAqBjB,GArBiB,CAAnB;;AAwBAC,MAAM,CAACC,OAAP,GAAiB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,KAAvB;AACA,MAAI,CAACA,KAAL,EAAY,OAAOC,MAAP;AACZ,MAAID,KAAK,IAAIH,UAAU,CAAC,CAAD,CAAvB,EAA4B,OAAO,CAAP;AAC5B,MAAIG,KAAK,GAAGH,UAAU,CAACA,UAAU,CAACO,MAAX,GAAoB,CAArB,CAAtB,EAA+C,OAAOP,UAAU,CAACO,MAAX,GAAoB,CAA3B;AAC/C,MAAIC,IAAI,GAAG,CAAX;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,UAAU,CAACO,MAA/B,EAAuCE,CAAC,EAAxC,EAA4C;AAC1C,QAAIN,KAAK,IAAIH,UAAU,CAACS,CAAD,CAAnB,IAA0BN,KAAK,GAAGH,UAAU,CAACS,CAAC,GAAG,CAAL,CAAhD,EAAyDD,IAAI,GAAGC,CAAP;AACzD;AACD;;AACD,SAAOD,IAAP;AACD,CAXD","sourcesContent":["// this function takes a map scale, the denominator in something like\n// 1 : 250,000 and translates that to the zoom scale from a 0 - 20 range\n// using the scale table found on https://wiki.openstreetmap.org/wiki/Zoom_levels\n\nconst zoomLevels = [\n  500000000,\n  250000000,\n  150000000,\n  70000000,\n  35000000,\n  15000000,\n  10000000,\n  4000000,\n  2000000,\n  1000000,\n  500000,\n  250000,\n  150000,\n  70000,\n  35000,\n  15000,\n  8000,\n  4000,\n  2000,\n  1000,\n  500,\n];\n\nmodule.exports = (scale, ifnull) => {\n  console.log(\"testing\", scale);\n  if (!scale) return ifnull;\n  if (scale >= zoomLevels[0]) return 0;\n  if (scale < zoomLevels[zoomLevels.length - 1]) return zoomLevels.length - 1;\n  let zoom = 0;\n  for (var i = 1; i < zoomLevels.length; i++) {\n    if (scale >= zoomLevels[i] && scale < zoomLevels[i - 1]) zoom = i;\n    break;\n  }\n  return zoom;\n};\n"]},"metadata":{},"sourceType":"module"}